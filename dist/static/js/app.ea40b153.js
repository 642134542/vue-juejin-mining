(function(t){function e(e){for(var n,r,c=e[0],l=e[1],s=e[2],m=0,d=[];m<c.length;m++)r=c[m],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,s||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],n=!0,c=1;c<o.length;c++){var l=o[c];0!==a[l]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=o[0]))}return t}var n={},a={app:0},i=[];function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var s=0;s<c.length;s++)e(c[s]);var u=l;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";o("85ec")},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},13:function(t,e){},14:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},5:function(t,e){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("home")],1)},i=[],r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-container",{staticClass:"home-container"},[o("el-aside",{attrs:{width:"500px"}},[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.formRule,"label-width":"80px",size:"mini"}},[o("el-form-item",{attrs:{label:"UID",prop:"uid"}},[o("el-input",{on:{blur:t.saveLocal},model:{value:t.form.uid,callback:function(e){t.$set(t.form,"uid",e)},expression:"form.uid"}})],1),o("el-form-item",{attrs:{label:"TOKEN",prop:"token"}},[o("el-input",{on:{blur:t.saveLocal},model:{value:t.form.token,callback:function(e){t.$set(t.form,"token",e)},expression:"form.token"}})],1)],1),o("el-row",[o("el-col",{attrs:{span:8}},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("createData")}}},[t._v("获取信息")])],1)],1),o("el-row",{staticClass:"margin-top-20"},[o("el-col",{attrs:{span:8}},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("start")}}},[t._v("开始")])],1),o("el-col",{attrs:{span:8}},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("command")}}},[t._v("发起指令")])],1),o("el-col",{attrs:{span:8}},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("loopGetPicoDiamond")}}},[t._v("彩蛋")])],1)],1),o("el-row",{staticClass:"margin-top-20"},[o("el-col",{attrs:{span:8}},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("freshMap")}}},[t._v("重新开始")])],1),o("el-col",{attrs:{span:8}},[o("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.submitForm("over")}}},[t._v("结束")])],1),o("el-col",{attrs:{span:8}},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getRecord(!0)}}},[t._v("记录")])],1)],1)],1),o("el-main",{staticClass:"home-main"},[o("div",{staticClass:"left-text log-basic"},[o("p",[t._v(" 用户名："),o("span",{staticClass:"is-bold"},[t._v(t._s(t.userInfo.name))])]),o("el-row",[o("el-col",{attrs:{span:12}},[o("p",[t._v(" 今日矿石："),o("span",{staticClass:"is-bold"},[t._v(t._s(t.userInfo.todayDiamond))])])]),o("el-col",{attrs:{span:12}},[o("p",[t._v(" 今日限制矿石："),o("span",{staticClass:"is-bold"},[t._v(t._s(t.userInfo.todayLimitDiamond))])])])],1),o("div",{staticClass:"border-bottom"}),o("el-row",[o("el-col",{attrs:{span:12}},[o("p",[t._v(" 今日彩蛋矿石："),o("span",{staticClass:"is-bold"},[t._v(t._s(t.userInfo.todayTotalPicoDiamond))])])])],1),o("div",{staticClass:"border-bottom"}),o("el-row",[o("el-col",{attrs:{span:12}},[o("p",[t._v(" 当前位置："),o("span",{staticClass:"is-bold"},[t._v(t._s(t.deep))])])]),o("el-col",{attrs:{span:12}},[o("p",[t._v(" 当前矿石："),o("span",{staticClass:"is-bold"},[t._v(t._s(t.gameDiamond))])])])],1)],1),o("div",{staticClass:"log-container left-text"},[o("h3",{staticClass:"left-text"},[t._v("日志:")]),o("el-button",{staticClass:"btn-clear",attrs:{type:"primary",size:"mini"},on:{click:t.clearLog}},[t._v("清空")]),o("div",{staticClass:"log-list"},t._l(t.logData,(function(e,n){return o("p",{key:n,staticClass:"log-item"},[o("label",[t._v(t._s(n+1)+":")]),t._v(" "+t._s(e.type)+"-"+t._s(e.msg)+"，"+t._s(e.typeInfo)+" ")])})),0)],1)]),t.dialogVisible?o("dialog-record-table",{attrs:{recordTableData:t.recordTableData},on:{closeDialog:function(e){t.dialogVisible=!1}}}):t._e()],1)},c=[],l=(o("4de4"),o("d3b7"),o("159b"),o("b0c0"),o("99af"),o("14b7")),s=o.n(l),u=o("bc3a"),m=o.n(u),d=m.a.create({timeout:3e5}),f="authorization";d.interceptors.request.use((function(t){var e="Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsInNvdXJjZSI6Imp1ZWppbiJ9.eyJleHBpcmVBdCI6MTY0MzIwNDMwMSwidXNlcklkIjoiMzUwMTMwOTQzODQ2NjQ2MiIsImlhdCI6MTY0MDYxMjMwMSwiZXhwIjoxNjQzMjA0MzAxfQ.oWghlcpjTam2q-v-ZQsKRp_s0tBd4MXdYUpyrVIwFlx3-jGkaXOAFhOXiJzEpAnqhrGlx5gBcvZcl_MpDyCXtkhCPbhYI23Xp6JSiAfMV6rgpeWPX632uAxdcpHutqJKkJPvGi5J430AgKp8SNpgdrcWOunpvfqPRtZtNlWvpLlrYmtwxATKHPUyXrCW-WgFYP0RtJYI2-5JK8I8UMO4tIFInVZcrTtW8T0BQul-1jtRAElp88pXoZ4ezjHU2gwsp_Mp0y7lDqwqYxlE2f1bW-7GP1abY1Rv0Y-SOweHGj9ErzFtmGJiZoT4myI38e-kjl7yDzRT-99qMDTA4U05zg",o=localStorage.getItem("token")||e;return o&&(t.headers[f]=o),t}),(function(t){Promise.reject(t)})),d.interceptors.response.use((function(t){return t.data}),(function(t){return Promise.reject(t)}));var p=d;function g(t,e,o){return p({url:"/game/sea-gold/game/start?uid=".concat(e,"&time=").concat(o),method:"post",data:t})}function h(t,e){return p({url:"/game/sea-gold/home/info?uid=".concat(t,"&time=").concat(e),method:"get"})}function b(t,e,o){return p({url:"/game/sea-gold/game/over?uid=".concat(e,"&time=").concat(o),method:"post",data:t})}function v(t,e,o){return p({url:"/game/sea-gold/game/fresh_map?uid=".concat(e,"&time=").concat(o),method:"post",data:t})}function D(t,e,o,n){return p({url:"/game/sea-gold/game/command?uid=".concat(e,"&time=").concat(o),method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8","x-tt-gameid":n}})}function I(t,e,o){return p({url:"/game/sea-gold/game/pico?uid=".concat(e,"&time=").concat(o),method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function y(t,e){return p({url:"/game/sea-gold/user/record?uid=".concat(t,"&time=").concat(e),method:"get"})}var w={command:[{times:10,command:[{times:10,command:[{times:10,command:["D","2","R","D","4","D","L","D","6","R","D","R"]},"U","R"]},"U","L","L"]}]},T=w,_=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-dialog",{attrs:{title:"记录",visible:t.dialogVisible,width:"80%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","show-summary":"",height:"500px"}},[o("el-table-column",{attrs:{prop:"timeTxt",label:"游戏时间",align:"center",filters:t.filterTime,"filter-method":t.filterHandler}}),o("el-table-column",{attrs:{prop:"roleId",label:"游戏角色",align:"center"}}),o("el-table-column",{attrs:{prop:"deep",label:"位置",width:"180",align:"center"}}),o("el-table-column",{attrs:{prop:"diamond",label:"矿石",width:"180",align:"center"}}),o("el-table-column",{attrs:{prop:"picoDiamond",label:"彩蛋矿石",align:"center"}}),o("el-table-column",{attrs:{prop:"realDiamond",label:"实际矿石",width:"180",align:"center"}}),o("el-table-column",{attrs:{prop:"diamond",label:"gameTime",width:"180",align:"center"}}),o("el-table-column",{attrs:{prop:"picoDiamond",label:"seed",align:"center"}})],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("关 闭")])],1)],1)},M=[],C={name:"dialogVisible",props:{recordTableData:Array},components:{},data:function(){return{dialogVisible:!0,filterTime:[],tableData:[]}},watch:{recordTableData:function(){var t=this;this.recordTableData.forEach((function(e){t.tableData.push(Object.assign(e,{timeTxt:t.timeFormat(e.time)}))}))}},methods:{handleClose:function(){this.$emit("closeDialog")},timeFormat:function(t){var e=new Date(+t),o=e.getMonth()+1<10?"0".concat(e.getMonth()+1):e.getMonth()+1,n=e.getDate()<10?"0".concat(e.getDate()):e.getDate(),a=e.getHours(),i=e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes(),r=e.getSeconds()<10?"0".concat(e.getSeconds()):e.getSeconds();return"".concat(e.getFullYear(),"-").concat(o,"-").concat(n," ").concat(a,":").concat(i,":").concat(r)},filterHandler:function(t,e,o){var n=o["property"];return e[n]===t}}},k=C,E=o("2877"),j=Object(E["a"])(k,_,M,!1,null,null,null),P=j.exports,x={name:"home",components:{dialogRecordTable:P},data:function(){return{form:{uid:"",token:""},formRule:{uid:[{required:!0,message:"请输入uid",trigger:"blur"}],token:[{required:!0,message:"请输入token",trigger:"blur"}]},logData:[],deep:0,gameId:0,gameDiamond:0,userInfo:{name:"",todayDiamond:0,todayLimitDiamond:0,todayTotalPicoDiamond:0},recordTableData:[],dialogVisible:!1}},created:function(){this.getLocal()},methods:{getRecord:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.dialogVisible=e;var o=(new Date).getTime();y(this.form.uid,o).then((function(e){var o=e.data;t.recordTableData=o.record;var n=+new Date((new Date).setHours(0,0,0,0)).getTime(),a=o.record.filter((function(t){return t.time>=n}));t.userInfo.todayTotalPicoDiamond=0,a.forEach((function(e){t.userInfo.todayTotalPicoDiamond+=e.picoDiamond}))}),(function(){}))},getLocal:function(){this.form.uid=localStorage.getItem("uid"),this.form.token=localStorage.getItem("token")},saveLocal:function(){localStorage.setItem("uid",this.form.uid),localStorage.setItem("token",this.form.token),this.form.uid&&this.form.token&&(this.getInfo(),this.getRecord())},submitForm:function(t){var e=this;this.$refs.form.validate((function(o){if(!o)return console.log("error submit!!"),!1;e[t]()}))},createData:function(){this.getInfo(),this.getRecord()},getInfo:function(){var t=this,e=(new Date).getTime();h(this.form.uid,e).then((function(e){var o=e.data;t.logData.unshift({type:"getInfo",typeInfo:"获取游戏基本信息",msg:e.message}),t.deep=o.gameInfo?o.gameInfo.deep:0,t.gameDiamond=o.gameInfo?o.gameInfo.gameDiamond:0,t.gameId=o.gameInfo?o.gameInfo.gameId:0,t.userInfo.name=o.userInfo.name,t.userInfo.todayDiamond=o.userInfo.todayDiamond,t.userInfo.todayLimitDiamond=o.userInfo.todayLimitDiamond}),(function(){}))},start:function(){var t=this,e=(new Date).getTime(),o={roleId:3};g(o,this.form.uid,e).then((function(e){var o=e.data;t.logData.unshift({type:"start",typeInfo:"开始游戏",msg:e.message}),t.deep=o.curPos.y,t.gameDiamond=0,t.gameId=o.gameId}),(function(){}))},command:function(){var t=this,e=(new Date).getTime(),o={command:T.command};console.log(o);var n=this.getXGameId();D(o,this.form.uid,e,n).then((function(e){var o=e.data;t.logData.unshift({type:"command",typeInfo:"发出指令",msg:e.message}),t.deep=o.curPos.y,t.gameDiamond=o.gameDiamond}))},loopGetPicoDiamond:function(){var t=100*Math.ceil(this.deep/100);this.getPicoDiamond(t)},getPicoDiamond:function(t){var e=this,o={deep:t},n=(new Date).getTime();I(o,this.form.uid,n).then((function(o){var n=o.data,a="";0===o.code&&(a=n.diamond?"获得矿石，数量为".concat(n.diamond):"获得道具，编号为".concat(n.pico)),e.logData.unshift({type:"pico",typeInfo:a,msg:o.message}),t>=200?setTimeout((function(){e.getPicoDiamond(t-100)}),3e3):(e.getInfo(),e.getRecord())}))},freshMap:function(){var t=this,e=(new Date).getTime(),o={};v(o,this.form.uid,e).then((function(e){t.logData.unshift({type:"freshMap",typeInfo:"更换地图",msg:e.message})}),(function(){}))},over:function(){var t=this;this.$confirm("此操作将结束游戏, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=(new Date).getTime(),o={isButton:1};b(o,t.form.uid,e).then((function(e){var o=e.data;t.logData.unshift({type:"over",typeInfo:"结束游戏，位置".concat(o.deep,", 矿石").concat(o.gameDiamond,"，实际获取矿石").concat(o.realDiamond,", 彩蛋矿石").concat(o.picoDiamond),msg:e.message})}),(function(){}))}))},clearLog:function(){this.logData=[]},getXGameId:function(){var t=+(new Date).getTime();return s.a.sign({gameId:this.gameId,time:t},"-----BEGIN EC PARAMETERS-----\nBggqhkjOPQMBBw==\n-----END EC PARAMETERS-----\n-----BEGIN EC PRIVATE KEY-----\nMHcCAQEEIDB7KMVQd+eeKt7AwDMMUaT7DE3Sl0Mto3LEojnEkRiAoAoGCCqGSM49\nAwEHoUQDQgAEEkViJDU8lYJUenS6IxPlvFJtUCDNF0c/F/cX07KCweC4Q/nOKsoU\nnYJsb4O8lMqNXaI1j16OmXk9CkcQQXbzfg==\n-----END EC PRIVATE KEY-----\n",{algorithm:"ES256",expiresIn:2592e3,header:{alg:"ES256",typ:"JWT"}})}}},O=x,S=Object(E["a"])(O,r,c,!1,null,null,null),R=S.exports,A={name:"App",components:{home:R}},F=A,J=(o("034f"),Object(E["a"])(F,a,i,!1,null,null,null)),U=J.exports,V=o("5c96"),X=o.n(V);o("0fae"),o("7dc4"),o("6c7a");n["default"].config.productionTip=!1,n["default"].use(X.a),new n["default"]({render:function(t){return t(U)}}).$mount("#app")},6:function(t,e){},"6c7a":function(t,e,o){},7:function(t,e){},"7dc4":function(t,e,o){},8:function(t,e){},"85ec":function(t,e,o){},9:function(t,e){}});